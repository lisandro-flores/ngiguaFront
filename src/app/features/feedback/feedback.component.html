<div *ngIf="open" class="fixed inset-0 z-50 flex items-center justify-center bg-black/50">
  <div class="bg-white dark:bg-slate-900 rounded-lg p-6 w-full max-w-md shadow-lg">
    <div class="flex justify-between items-center mb-4">
      <h3 class="text-lg font-semibold text-slate-900 dark:text-white">Enviar retroalimentación</h3>
      <button (click)="close()" class="text-slate-500 hover:text-slate-300">✕</button>
    </div>

    <p class="text-sm text-slate-600 dark:text-slate-400 mb-3">¿Encontraste un problema o quieres sugerir una mejora? Cuéntanos.</p>

    <label class="block text-xs text-slate-500 mb-2">Tipo</label>
    <select [(ngModel)]="type" class="w-full mb-3 p-2 rounded bg-slate-50 dark:bg-slate-800 border">
      <option value="bug">Reporte de problema</option>
      <option value="feedback">Sugerencia</option>
    </select>

    <label class="block text-xs text-slate-500 mb-2">Correo (opcional)</label>
    <input [(ngModel)]="email" type="email" class="w-full mb-3 p-2 rounded bg-slate-50 dark:bg-slate-800 border" placeholder="tu@correo.com" />

    <label class="block text-xs text-slate-500 mb-2">Mensaje</label>
    <textarea [(ngModel)]="message" rows="4" class="w-full mb-3 p-2 rounded bg-slate-50 dark:bg-slate-800 border" placeholder="Describe lo que pasó..."></textarea>

    <div class="flex items-center justify-between">
      <div>
        <button (click)="submit()" [disabled]="submitting" class="px-4 py-2 bg-ngigua-500 text-white rounded shadow hover:bg-ngigua-600 disabled:opacity-60">
          {{ submitting ? 'Enviando...' : 'Enviar' }}
        </button>
        <button (click)="close()" class="ml-3 px-3 py-2 text-sm text-slate-500">Cancelar</button>
      </div>
      <div *ngIf="success" class="text-sm text-green-400">Gracias — recibido</div>
    </div>

    <div *ngIf="defaultTerm" class="mt-3 text-xs text-slate-400">Reportando: <strong>{{ defaultTerm }}</strong></div>
  </div>
</div>